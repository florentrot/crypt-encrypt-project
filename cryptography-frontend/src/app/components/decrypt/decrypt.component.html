<main class="container bg-light">
  <h3>Decrypt</h3>
  <hr>

  <div class="row">
    <div class="col-2">
      <label for="fileToDecrypt">Select File:</label>
    </div>

    <div class="col-2">
      <input type="file" #fileToDecrypt
             (change)="insertFile($event)"
             [disabled]="selectedFile"
             id="fileToDecrypt"
             accept=".enc"
             required>
    </div>
  </div>

  <div class="row">
    <div class="col-2">
      <label for="fileId">File id:</label>
    </div>

    <div class="col-2">
      <input type="text" #fileId
             id="fileId"
             (keyup)="checkValidForm()">
    </div>
  </div>

  <div class="row">
    <div class="col-2">
      <label for="keyNumber">Key:</label>
    </div>

    <div class="col-2">
      <input type="text" #keyNumber
             id="keyNumber" accept=".enc"
             (keyup)="checkValidForm()">
    </div>
  </div>

  <div class="row">
    <div class="col-2">
      <button type="button"
              class="btn btn-dark btn-sm"
              [disabled]="isClearDisabled"
              (click)="clearForm()">Clear
      </button>
    </div>
    <div class="col">
      <button type="button"
              class="btn btn-success btn-sm"
              [disabled]="isDecryptDisabled"
              (click)="onDecrypt()">Decrypt
      </button>
    </div>
  </div>

  <hr>

  <div class="alert alert-info" role="alert" *ngIf="isDecryptionDone"> File decrypted successfully</div>
  <div class="alert alert-danger" role="alert" *ngIf="isAnyError"> You already have a file added!</div>


  <ag-grid-angular
    #agGrid
    style="width: 100%; height: 500px"
    class="ag-theme-alpine"
    [rowData]="rowData"
    [gridOptions]="gridOptions"
    [columnDefs]="gridOptions.columnDefs"
    [pagination]="true"
    [paginationPageSize]="10"
    (gridReady)="onGridReady($event)"
  ></ag-grid-angular>

</main>

